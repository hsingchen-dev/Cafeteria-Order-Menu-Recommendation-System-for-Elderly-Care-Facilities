# 高齢者向け介護施設 食堂オーダーメニュー推薦システム

本システムは、介護施設の食堂において、高齢者が自身の食事制限や好みに配慮しながら、音声によって簡単に食事を注文できるスマート注文支援AIです。

# はじめに

日本のような高齢化社会において、介護施設の食事提供サービスは「三項目の両立困難」問題に直面しています。すなわち、**食の安全性**・**メニューの多様性**・**運営コスト**の3つを同時に満たすことが非常に困難です。

- 安全性とコストを優先すると、全員に共通のメニューとなり、個人の健康状態や嗜好が無視されてしまいます。
- 安全性と多様性を重視すると、スタッフの人件費や運営負担が増大します。
- コストと多様性を優先すると、健康状態に合わないメニューを提供してしまい、利用者の健康を損なうリスクがあります。

この課題を解決するために、私たちは**AIを活用した音声対話型メニュー推薦システム**を開発しました。本システムは、高齢者が話しかけるだけで注文ができ、AIがその内容を理解して最適なメニューを提案します。個人に合わせた安全かつ効率的な食事選択を実現しながら、スタッフの負担も軽減します。

## 主な特徴：
- LLM（大規模言語モデル）を活用した自然対話と感情に応じた応答
- 糖尿病・アレルギー・宗教対応などの健康フィルタリング機能
- 日本語・英語・中国語の多言語対応
- タブレットやスマートフォン上での簡単導入
- 過去の注文履歴と好みに基づく継続的学習・最適化

本システムは、高齢者が自分に適した食事を選びやすくなるだけでなく、介護スタッフの業務負担を軽減し、持続可能で包摂的な食事支援環境を実現することを目的としています。
****<img width="1742" height="995" alt="image" src="https://github.com/user-attachments/assets/f8df8a6c-6cbb-4e62-ae93-2a1a56be2fcc" />

# エージェントの概要

本システムの中核を担うのは、音声によるメニュー推薦と対話を制御する**インテリジェント・エージェント**です。このエージェントは、大規模言語モデル（LLM）をベースに構築されており、複数の機能を統合することで、高齢者にとって自然かつ文脈を考慮した会話と判断を可能にします。

### 主な機能

- **音声対話**：日本語・英語・中国語で話しかけると、音声認識（ASR）によってテキスト化されます。
- **プロンプト設計**：LLMに適切な指示を与えるための構造化されたプロンプトを挿入し、安全かつ丁寧な返答を誘導します。
- **感情・嗜好認識**：キーワードや声のトーンを分析し、「さっぱりしたものが食べたい」「塩分控えめがいい」など、利用者の気分や好みを推定します。
- **健康情報に基づくフィルタリング**：糖尿病・高血圧・アレルギーなど、利用者の健康プロフィールを参照し、適さないメニューを自動的に除外します。
- **拒否と代替提案のロジック**：健康に有害なおそれのある選択を丁寧に拒否し、代わりの料理を提案します。
- **対話履歴の記憶**：最近の会話や食事履歴を記録し、次回以降の推薦精度を向上させます。
- **ロボット連携**：感情表現（うなずき・手振りなど）を伴うロボット操作指令を送信可能です。
- **多言語対応**：認知症の方にも配慮したやさしい日本語など、多言語・簡略化表現に切り替え可能です。

このエージェントはモジュール構成で拡張性が高く、様々な介護施設やタブレット・ロボット環境への導入が可能です。

---

# システムの概要

本システムは、高齢者が介護施設内で**音声によって安全かつ個別に最適化された食事**を注文できる体験を提供します。QRコードを用いた健康データ取得、多言語音声入力、大規模言語モデルによる自然言語理解、そしてメニューフィルタリングロジックを統合しています。

---

# チーム紹介

本プロジェクトは、博士課程および修士課程の学生による**学際的チーム**によって構成され、各メンバーがそれぞれの専門分野を活かして開発に貢献しています。

- **田坂 風月（タサカ フヅキ）（プロジェクトリーダー）**  
  システム全体の方向性、実装、エージェント動作評価を担当。  
  実機検証やユーザビリティテストを通じて開発と現場をつなぎ、コードの統合にも直接参加。  
  *神戸大学*

- **杭 星辰（ハン シンチェン）**  
  システムアーキテクチャ設計を担当。LLM、ロボット制御、音声・視覚・行動のマルチモーダル統合を設計・実装。  
  *神戸大学*

- **丸山 晴樹（マルヤマ ハルキ）**  
  プロンプト設計および市場調査を担当。日本語における対話設計と社会的背景に即した自然な流れを最適化。  
  *東京大学*

- **竹富 隆一（タケトミ リュウイチ）**  
  システム全体の品質保証とテストを担当。多様な使用状況下でも高い信頼性を確保するための検証を実施。  
  *関西学院大学*

---

### 🧠 利用ステップ（6ステップ）

**ステップ1：QRコードをスキャン**  
利用者がタブレットまたは端末で自身のQRコードをスキャンします。QRには健康情報（病歴・アレルギー）や直近7日間の食事履歴が含まれています。

**ステップ2：食べたいものを話す**  
利用者は自然な言葉で食べたい料理を口頭で伝えます。多言語・方言にも対応しています。

**ステップ3：エージェントによる理解と判断（LLM＋ルール）**  
エージェントが以下の情報を用いて発話を解析します：
- LLMによる自然言語理解
- 健康フィルターの適用
- 嗜好と感情の推定  
その後、「承認」「修正提案」「拒否」のいずれかの判断を行います。

**ステップ4：ラベル付きメニューを表示**  
フィルタリング後のメニューを、アレルギー表示・栄養情報・わかりやすい説明付きで提示します。

**ステップ5：自動拒否と代替提案（必要時）**  
健康状態に反する料理を選ぼうとした場合、自動でブロックし、代替案を提示します。

**ステップ6：QR履歴を更新**  
注文が完了すると、選ばれたメニューとその健康影響がQRコードに記録され、今後の推薦精度や栄養バランス改善に役立てられます。

この6ステップにより、高齢者が安全かつ効率的に個別最適化された食事を選択できると同時に、介護スタッフの負担軽減にもつながります。

<img width="1744" height="989" alt="image" src="https://github.com/user-attachments/assets/0539065d-1f8f-4497-8d03-1ee0af676441" />
<img width="1741" height="993" alt="image" src="https://github.com/user-attachments/assets/473651a2-9789-4767-94d3-3a6d72f520aa" />
<img width="1741" height="993" alt="image" src="https://github.com/user-attachments/assets/e2a122a4-2511-4fff-8f8c-4fab994ba4f8" />
<img width="1739" height="991" alt="image" src="https://github.com/user-attachments/assets/02593728-12fe-475d-b815-a2571aa7636c" />
<img width="1742" height="992" alt="image" src="https://github.com/user-attachments/assets/03de1cf5-5167-4ba3-a8df-ca5a319b0c9f" />

## デモ動画

### SKYNET 第1世代エージェント：一般飲食店向けメニュー推薦システム

以下のデモ動画では、当チームが開発した**第1世代のプロトタイプ**を紹介しています。このバージョンは、**一般的なレストラン**での使用を想定して設計されており、利用者は自然な話し言葉でメニューと対話しながら注文が可能です。

 https://www.youtube.com/shorts/mqymFhW0tDY

また、下位制御システム（ロボット連携）の動作も紹介しています。大規模言語モデル（LLM）を活用した制御技術により、エージェントは利用者の感情やニュアンスを理解し、適切な動作や表情で応答することで、より人間らしい自然なインタラクションを実現しています。

 https://www.youtube.com/watch?v=IZ2gPEjCfZQ

---

### SKYNET 第2世代エージェント：介護施設向けメニュー推薦システム

こちらは、**介護施設向けに最適化された第2世代エージェント**のデモ動画です（準備中）。個々の健康状態・嗜好・会話履歴に基づき、最適な献立を提案しつつ、音声対話のみで注文を完了できる最新システムです。

（近日公開予定）

